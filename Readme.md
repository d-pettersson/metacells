<div id="top"></div>

<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/somaticbits/metacells">
    <img src="logo.png" alt="Logo">
  </a>

<h3 align="center">metacells</h3>

  <p align="center">
    project_description
    <br />
    <a href="https://github.com/somaticbits/metacells"><strong>Explore the docs »</strong></a>
    <br />
    <br />
    <a href="https://github.com/somaticbits/metacells">View Demo</a>
    ·
    <a href="https://github.com/somaticbits/metacells/issues">Report Bug</a>
    ·
    <a href="https://github.com/somaticbits/metacells/issues">Request Feature</a>
  </p>
</div>



<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
      <ul>
        <li><a href="#built-with">Built With</a></li>
      </ul>
    </li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#installation">Installation</a></li>
      </ul>
    </li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#roadmap">Roadmap</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#license">License</a></li>
    <li><a href="#contact">Contact</a></li>
    <li><a href="#acknowledgments">Acknowledgments</a></li>
  </ol>
</details>



<!-- ABOUT THE PROJECT -->
## About The Project

![Preview image](https://github.com/d-pettersson/serialCore/blob/master/Preview.jpg)

metacells is a generative art framework built with TouchDesigner that allows fast creation of multiple video assets for minting as NFTs. Each asset is the result of controlled randomness within the framework.
It uses the inherent modularity of TouchDesigner to create multiple components that are each responsible for one single thing.

The modules creating the generative art (`base_layer`) are all structured around a noise component where the local seed is being adjusted randomly by a master seed. All parameters for the various elements in the module are set in a table and set by this local noise.

The master seed is set randomly at every (rendering) timeline pass of the project, hence setting random values in each local module. It also switches between each `base_layer`, creating a different rendering each time the project is ran.

The project is structured as follows (under root module & folder `src`):
- `common` - a set of utilities for the project
- `execute_startup` - runs every time the project is started:
  * Assigns the master seed to each local seed in the `base_layer`
  * Collects all `base_layer` in a dictionary for easy retrieval of parameters
  * Sets the local noise resolution to the number of parameters
  * Connects each noise pixel value to their corresponding layer via [expressions](https://docs.derivative.ca/Expression#:~:text=An%20Expression%20in%20TouchDesigner%20is,float%20list%20or%20boolean%2C%20etc.)
- `execute_rendering` - creates three different types of assets on rendering (image sequences, video files and their corresponding sha256-hash):
  * Caches the rendering for seamless looping on first timeline pass
  * Renders a still image sequence on second timeline pass
  * Renders asynchronously a video file of this image sequence
  * And ends with creating a sha256-hash of that video file for asset verification at a later stage
- `base_col_pal` - generates a library of 900 different color palettes for easy access
- `container_ui` - hosts all necessary components to create the control ui for render purposes
- `base_layer_x` - contains all necessary elements to create a generative art piece:
  * A `select2` texture selector which pulls the `base_layer_0` output texture
  * A `select3` texture selector which pulls the color palette generated by `base_col_pal`
  * A `base_looping_noise` which is used to generate a looping 4D noise (xyzw axes - Perlin / Simplex noise)
  * A `noise1` which is the local noise module which sets all parameters in the module in a random manner
  * A set of tables and mathematical expressions to map the range of the `noise1` range [0-1] to a specific range needed by the module
  * Those elements above are contained in every `base_layer` as a template - the rest of the components are created locally and are different for each module

<p align="right">(<a href="#top">back to top</a>)</p>



### Built With

* [TouchDesigner](https://derivative.ca/)
* [Python](https://www.python.org/)

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- GETTING STARTED -->
## Getting Started

This is an example of how you may give instructions on setting up your project locally.
To get a local copy up and running follow these simple example steps.

### Prerequisites

A good knowledge of the TouchDesigner environment, and its python scripting language is recommended if the usage exceeds the simple task of rendering the assets.

An installation of TouchDesigner is necessary. Python is already included in this framework (3.7 at the time of writing). This project was created using TD version 2021.17270. It will work on higher versions, the inverse might not necessarily be true.

This project is released for the Win-x64 platform. It might work with some adjustments on an OSX platform.

### Installation

1. Download [TouchDesigner](https://download.derivative.ca/TouchDesigner.2021.16270.exe) and install it.
2. Create an account in order to generate a free licence key (*free licences are restricted to non-commercial usage, and have a max texture resolution of 1280x1280*)
3. Clone this repo
  ```bash
  git clone https://github.com/somaticbits/metacells.git
  ```
4. Enter the `metacells` folder
5. Download [ffmpeg](https://www.gyan.dev/ffmpeg/builds/ffmpeg-release-essentials.zip) to this folder
6. Unarchive the downloaded zip file and rename the folder `ffmpeg`
7. Start the project by clicking on `metacells.toe`

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- USAGE EXAMPLES -->
## Usage

Basic usage of the project is to open the `metacells.toe` file and click on `render`.

Through it's modularity, the project can be extended with an unlimited amount of `base_layer`, allowing the random generation of multiple assets.

Extension of the project would be working the in following way:
- Copy `base_layer_template` to the latest layer version
- Build that module out and gather all parameters that can be modulated
- Copy `base_layer_x` folder in the project root folder (`src`)
- Populate `table_pars.py` inside that `base_layer_x` folder with chosen parameters - it has its own taxonomy (see below)
- Once this is done, restart the project so all new parameters can be set up by the system (*Alternativately, you can restart the parameter set up by clicking the restart button in the `container_debug` module*).

`table_pars.py` is a csv file that has following headers:
par_name / op / par / min / max

* `par_name`: the name of the parameter - can be chosen freely (*ex: `pos_seed` - corresponds to the seed of the noise position module*)
* `op`: the exact name of the specified module (*ex: `noise_pos` - the noise position module*)
* `par`: the exact name of the parameter inside the module (*ex: `seed` - seed parameter of the noise position module*)
* `min`: the minimum range for this specific parameter (*ex: `0` - can be set as int or float types*)
* `max`: the maximum range for this specific parameter (*ex: `9000` - can be set as int or float types*)

_For more examples, please refer to the [Documentation](https://example.com)_

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- ROADMAP -->
## Roadmap

- [ ] Feature 1
- [ ] Feature 2
- [ ] Feature 3
    - [ ] Nested Feature

See the [open issues](https://github.com/somaticbits/metacells/issues) for a full list of proposed features (and known issues).

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- CONTRIBUTING -->
## Contributing

Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make are **greatly appreciated**.

If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag "enhancement".
Don't forget to give the project a star! Thanks again!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- LICENSE -->
## License

Distributed under the MIT License. See `LICENSE.txt` for more information.

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- CONTACT -->
## Contact

David Pettersson - [@somaticbits](https://twitter.com/somaticbits) - david@somaticbits.com

Project Link: [https://github.com/somaticbits/metacells](https://github.com/somaticbits/metacells)

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- ACKNOWLEDGMENTS -->
## Acknowledgments

* []()
* []()
* []()

<p align="right">(<a href="#top">back to top</a>)</p>



<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[contributors-shield]: https://img.shields.io/github/contributors/somaticbits/metacells.svg?style=for-the-badge
[contributors-url]: https://github.com/somaticbits/metacells/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/somaticbits/metacells.svg?style=for-the-badge
[forks-url]: https://github.com/somaticbits/metacells/network/members
[stars-shield]: https://img.shields.io/github/stars/somaticbits/metacells.svg?style=for-the-badge
[stars-url]: https://github.com/somaticbits/metacells/stargazers
[issues-shield]: https://img.shields.io/github/issues/somaticbits/metacells.svg?style=for-the-badge
[issues-url]: https://github.com/somaticbits/metacells/issues
[license-shield]: https://img.shields.io/github/license/somaticbits/metacells.svg?style=for-the-badge
[license-url]: https://github.com/somaticbits/metacells/blob/master/LICENSE.txt
[linkedin-shield]: https://img.shields.io/badge/-LinkedIn-black.svg?style=for-the-badge&logo=linkedin&colorB=555
[linkedin-url]: https://linkedin.com/in/linkedin_username
[product-screenshot]: images/screenshot.png
